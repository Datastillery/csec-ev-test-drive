
<jw-modal id="pin-modal">
  <div class="pin-pane">
    <p>Please enter your PIN</p>
    <input type="password" class="pin">
    <br>
    <p class="pin-error" *ngIf="showPinError">
      Incorrect PIN, please try again.
    </p>
    <div class="close-button" (click)="closeModal('pin-modal')">
      <p>Close</p>
    </div>
    <div class="confirm-button" (click)="doCancelRide()">
      <p *ngIf="!isSubmitting">Cancel Ride</p>
      <app-spinner *ngIf="isSubmitting"></app-spinner>
    </div>
  </div>
</jw-modal>

<div class="schedule-screen">
  <div class="header">
    <img class="scLogo" src="assets/scLogo.svg">
    <p class="title-text">{{ formattedDate }}</p>
  </div>

  <div class="schedule-pane">
    <div class="time-slot" *ngFor="let slot of schedule">
      <div class="time">
        <p>{{ slot.formattedTime }}</p>
      </div>

      <div class="driver-info" id="{{slot.confirmation_number}}">
        <div class="name-pane stat-pane">
          <p class="label">Name</p>
          <p class="value">{{slot.first_name}}</p>
        </div>
        <div class="email-pane stat-pane">
          <p class="label">Email</p>
          <p class="value">{{slot.email}}</p>
        </div>
        <div class="confirmation-pane stat-pane">
          <p class="label">Confirmation Number</p>
          <p class="value">{{slot.confirmation_number}}</p>
        </div>
        <div class="car-pane stat-pane">
          <p class="label">Driving</p>
          <p class="value">{{slot.year}} {{slot.make}} {{slot.model}}</p>
        </div>

        <div class="more-pane">
          <div class="spacer"></div>
          <div class="more-button" (click)="toggleMorePane(slot.confirmation_number)">
            <div class="dot"></div>
            <div class="dot"></div>
            <div class="dot"></div>
          </div>
          <div class="checkout-button"
               (click)="doCheckout(slot.confirmation_number)"
               (disabled)="isSubmitting">
            <p *ngIf="!isSubmitting">Checkout</p>
            <app-spinner *ngIf="isSubmitting"></app-spinner>
          </div>
          <div class="horizontal-rule"></div>
          <div class="cancel-button" (click)="doCancel(slot.confirmation_number)" (disabled)="isSubmitting">
            <p>Cancel</p>
          </div>
        </div>
      </div>
    </div>
  </div>

</div>
